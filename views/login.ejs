<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/assets/images/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicons/favicon.svg" />
    <link rel="shortcut icon" href="/assets/images/favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Migraine Manager" />
    <link rel="manifest" href="/assets/images/favicons/site.webmanifest" />

    <title>Sign In â€” Migraine Manager</title>
    <style>
      html {
        scroll-behavior: smooth;
      }
      body {
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      :focus-visible {
        outline: 2px solid #38bdf8;
        outline-offset: 2px;
      }
      .btn-glow {
        box-shadow: 0 0 20px rgba(14, 165, 233, 0.15);
      }
      .btn-glow:hover {
        box-shadow: 0 0 30px rgba(14, 165, 233, 0.25);
      }
      .nav-link {
        position: relative;
      }
      .nav-link::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0;
        height: 2px;
        background: #38bdf8;
        transition: width 0.3s ease;
      }
      .nav-link:hover::after {
        width: 100%;
      }
    </style>
</head>
<body class="text-slate-100 bg-midnight">
    <a
      href="#main"
      class="sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4
        focus:z-50 focus:bg-slate-800 focus:text-white focus:px-4 focus:py-2
        focus:rounded-md"
      >Skip to content</a
    >

    <!-- Navigation -->
    <header
      class="bg-midnight/95 backdrop-blur-md border-b border-slate-800/80 sticky top-0 z-50"
      role="banner"
    >
      <div class="container mx-auto px-6 py-4">
        <nav
          class="flex items-center justify-between"
          aria-label="Primary navigation"
        >
          <a href="/" class="flex items-center group">
            <img
              src="/assets/images/svg/logo.svg"
              alt="Migraine Manager logo"
              class="h-6 sm:h-[1.7rem] w-auto mr-2 transition-transform duration-300 group-hover:scale-105"
            />
            <span class="text-white text-base sm:text-xl font-semibold tracking-tight">
              Migraine Manager
            </span>
          </a>

          <div class="flex items-center space-x-2 sm:space-x-6">
            <a
              href="/"
              class="nav-link hidden sm:block text-slate-300 hover:text-white transition-colors"
            >
              Home
            </a>
            <a
              href="/login"
              class="nav-link hidden sm:block text-sm sm:text-base text-slate-300 hover:text-white transition-colors"
            >
              Log In
            </a>
            <a
              href="/signup"
              class="bg-indigo-600 hover:bg-indigo-500 text-white text-sm sm:text-base font-medium
                py-2 px-3 sm:py-2.5 sm:px-5 rounded-lg transition-all duration-300
                hover:scale-[1.02] active:scale-[0.98]"
            >
              Sign Up
            </a>
          </div>
        </nav>
      </div>
    </header>

    <main id="main">
      <!-- Sign In Section -->
      <section class="relative overflow-hidden py-12 sm:py-20 lg:py-28">
        <!-- Background decorative elements -->
        <div class="absolute inset-0 pointer-events-none" aria-hidden="true">
          <div class="absolute top-20 left-1/4 w-96 h-96 bg-sky-500/5 rounded-full blur-3xl"></div>
          <div class="absolute bottom-20 right-1/4 w-80 h-80 bg-indigo-500/5 rounded-full blur-3xl"></div>
        </div>

        <div class="container mx-auto px-6 relative">
          <div class="max-w-md mx-auto">
            <!-- Header -->
            <div class="text-center mb-10 sm:mb-12">
              <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-tight tracking-tight mb-4">
                Sign in to your account
              </h1>
              <p class="text-lg sm:text-xl text-slate-300 leading-relaxed">
                Welcome back! Please sign in to continue.
              </p>
            </div>

            <!-- Flash Messages -->
            <div class="mb-6 space-y-3">
              <% if (messages.error) { %>
                <% if (Array.isArray(messages.error)) { %>
                  <% messages.error.forEach(function(err) { %>
                    <div class="p-4 rounded-lg bg-red-900/50 border border-red-500/50 text-red-200 text-sm">
                      <%= err.msg %>
                    </div>
                  <% }); %>
                <% } else { %>
                  <div class="p-4 rounded-lg bg-red-900/50 border border-red-500/50 text-red-200 text-sm">
                    <%= messages.error %>
                  </div>
                <% } %>
              <% } %>
              <% if (messages.success) { %>
                <div class="p-4 rounded-lg bg-emerald-900/50 border border-emerald-500/50 text-emerald-200 text-sm">
                  <%= messages.success %>
                </div>
              <% } %>
            </div>

            <!-- Sign In Form -->
            <div class="rounded-2xl border border-slate-800 bg-slate-900/50 p-6 sm:p-8 lg:p-10">
              <form 
                class="space-y-6" 
                action="/login" 
                method="POST"
              >
                <input type="hidden" id="timezone" name="timezone">

                <!-- Email Field -->
                <div>
                  <label 
                    for="email" 
                    class="block text-sm font-medium text-slate-200 mb-2"
                  >
                    Email address
                  </label>
                  <input 
                    id="email" 
                    name="email" 
                    type="email" 
                    autocomplete="email"
                    required 
                    class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 
                      rounded-lg text-slate-100 placeholder-slate-400
                      focus:border-sky-500 focus:ring-2 focus:ring-sky-500/20
                      transition-all duration-300
                      hover:border-slate-600"
                    placeholder="Enter your email"
                  />
                </div>

                <!-- Password Field -->
                <div>
                  <div class="flex items-center justify-between mb-2">
                    <label 
                      for="password" 
                      class="block text-sm font-medium text-slate-200"
                    >
                      Password
                    </label>
                    <div class="text-sm">
                      <a 
                        href="#" 
                        class="font-semibold text-indigo-400 hover:text-indigo-300 transition-colors" 
                        hidden
                      >
                        Forgot password?
                      </a>
                    </div>
                  </div>
                  <input 
                    id="password" 
                    name="password" 
                    type="password" 
                    autocomplete="current-password"
                    required 
                    class="w-full px-4 py-3 bg-slate-800/50 border border-slate-700 
                      rounded-lg text-slate-100 placeholder-slate-400
                      focus:border-sky-500 focus:ring-2 focus:ring-sky-500/20
                      transition-all duration-300
                      hover:border-slate-600"
                    placeholder="Enter your password"
                  />
                </div>

                <!-- Submit Button -->
                <div class="pt-2">
                  <button 
                    type="submit" 
                    class="btn-glow w-full bg-indigo-600 hover:bg-indigo-500 
                      text-white font-semibold py-3.5 px-7 rounded-lg 
                      transition-all duration-300
                      hover:scale-[1.02] active:scale-[0.98]"
                  >
                    Sign In
                  </button>
                </div>
              </form>

              <!-- Sign Up Link -->
              <p class="mt-8 text-center text-sm text-slate-400">
                Not a member?
                <a 
                  href="/signup" 
                  class="font-semibold text-indigo-400 hover:text-indigo-300 transition-colors"
                >
                  Create an account
                </a>
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-midnight py-12 relative">
      <!-- Subtle top border gradient -->
      <div class="absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent"></div>

      <div class="container mx-auto px-6">
        <div class="border-t border-slate-700/50 pt-8 grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
          <div class="flex items-center justify-center md:justify-start">
            <span class="text-slate-400 text-sm">
              Created by <a class="hover:text-slate-200 transition-colors" href="https://dylanyoung.me/">Dylan Young</a>
            </span>
          </div>
          <p class="text-slate-400 text-sm text-center">&copy; 2026 Migraine Manager</p>
          <a href="/contact" class="text-slate-400 hover:text-white transition-colors text-center md:text-right">Contact</a>
        </div>
      </div>
    </footer>

    <script src="/js/timezone.js" type="text/javascript"></script>
</body>
</html>
